const _0x328f=['length','302013RGIQIc','constructor','.js','videos','resolve','pug','exists','VERSION','combineLibraries','copy','pi.js','luna','ConcatAndMinify','writeFile','\x20src=\x22','relations','trampoline.js','injectTrampoline','stringify','</style><script\x20type=\x22text/javascript\x22>','index.html','index.pug','filter','compress','scripts','generateHTML','combineSounds','storeMeta','.pug','libraries.js','\x20src=\x22assets/','unbrotli.min.js','pre','base64','font/','paths','combineBlobs','video/','buildTemplate','</head>','startsWith','templatePath','version','sourceFolder','bundle','data:','7gbGQwU','None','768441EcbVXR','inlineScripts','96319PhhiQO','toString','minificationMode','config','/assets/','index','minify','inlineJsons','match','45137hPQEql','forceUncompressed','.meta.json','join','7XnQYND','</script>','readdir','inject','<style>','split','844755bwEvth','inlineVideos','package','unity','meta','env','undefined','targetFolder','combineJsons','pipeline','714070tdEsfV','api','indexOf','generatePackageConfig','assembleMeta','trampolinePath','inlineBlobs','map','inlineImages','endsWith','.css','jsons','mkdir','<head>','slice','BASE_URL','useBase122','getAssetsStatistic','sounds','engine','urljoin','forceBase64','getInjectionChunks','1015306RyvljQ','assets','inlineSounds','image/','getVideos','resources','4mavSWm','trampoline.pug','images','replace'];const _0x53c6e0=_0x4b33;(function(_0xee2d73,_0x293d26){const _0x5424ba=_0x4b33;while(!![]){try{const _0x244ec5=-parseInt(_0x5424ba(0x1a7))+-parseInt(_0x5424ba(0x1c9))+-parseInt(_0x5424ba(0x1f9))+-parseInt(_0x5424ba(0x1fb))*parseInt(_0x5424ba(0x1f7))+-parseInt(_0x5424ba(0x20e))+parseInt(_0x5424ba(0x204))*-parseInt(_0x5424ba(0x208))+-parseInt(_0x5424ba(0x1be))*-parseInt(_0x5424ba(0x1c4));if(_0x244ec5===_0x293d26)break;else _0xee2d73['push'](_0xee2d73['shift']());}catch(_0x4fa1a4){_0xee2d73['push'](_0xee2d73['shift']());}}}(_0x328f,0x6bd99));function _0x4b33(_0x2df2fa,_0xa8f05f){_0x2df2fa=_0x2df2fa-0x1a1;let _0x328f89=_0x328f[_0x2df2fa];return _0x328f89;}const HTML_TAG_REGEX=/<html[^>]*>/i,HEAD_OPENING_TAG_STRING=_0x53c6e0(0x1b4),HEAD_CLOSING_TAG_STRING=_0x53c6e0(0x1f0),BODY_CLOSING_TAG_REGEX=/<\/body>(\s)*(<\/html>)?(\s)*$/,ASSETS_BASED_SRC_ATTRIBUTE=/\ssrc="assets\//gi,INJECTION_MINIFICATION_CONFIG={'minifyCSS':!![],'minifyJS':!![],'collapseWhitespace':!![]},TRAMPOLINE_FILE_NAME=_0x53c6e0(0x1d9),renderChunks=(_0x2a441c,_0x49369e)=>{const _0x360e0f=_0x53c6e0,_0x55f5a4=_0x2a441c[_0x360e0f(0x1df)](_0x507580=>_0x507580[_0x360e0f(0x1b0)](_0x360e0f(0x1cb)))[_0x360e0f(0x1ae)](_0x590476=>fs['readFileSync'](_0x590476)[_0x360e0f(0x1fc)]()),_0x1efdb8=_0x2a441c[_0x360e0f(0x1df)](_0x16cdcf=>_0x16cdcf['endsWith'](_0x360e0f(0x1e5)))[_0x360e0f(0x1ae)](_0x2aa2ad=>pug['renderFile'](_0x2aa2ad,_0x49369e)),_0x59a67e=_0x2a441c['filter'](_0x53b276=>_0x53b276[_0x360e0f(0x1b0)](_0x360e0f(0x1b1)))[_0x360e0f(0x1ae)](_0x2d9ee0=>fs['readFileSync'](_0x2d9ee0)[_0x360e0f(0x1fc)]());return minifyhtml(_0x360e0f(0x20c)+_0x59a67e[_0x360e0f(0x207)]('\x0a')+_0x360e0f(0x1dc)+_0x55f5a4['join'](';')+_0x360e0f(0x209)+_0x1efdb8[_0x360e0f(0x207)](''),INJECTION_MINIFICATION_CONFIG);};module['exports']=class Platform{constructor(_0x1959a5){const _0x1369c9=_0x53c6e0;this[_0x1369c9(0x1a8)]=_0x1959a5,this[_0x1369c9(0x1d8)]=[],this[_0x1369c9(0x1e0)]=!global[_0x1369c9(0x1fe)][_0x1369c9(0x211)][_0x1369c9(0x205)];const _0x3dd405=typeof global['config'][_0x1369c9(0x211)][_0x1369c9(0x201)]!==_0x1369c9(0x1a3)?global[_0x1369c9(0x1fe)][_0x1369c9(0x211)][_0x1369c9(0x201)]:!![];this[_0x1369c9(0x1fd)]=_0x3dd405?MinificationMode[_0x1369c9(0x1d5)]:MinificationMode[_0x1369c9(0x1f8)],this['useBase122']=!global['config']['unity'][_0x1369c9(0x1bc)],this[_0x1369c9(0x1ab)]();}get['templatePath'](){const _0x1c5603=_0x53c6e0;return path[_0x1c5603(0x1cd)](__dirname,_0x1c5603(0x1de));}get['trampolinePath'](){const _0x38a66d=_0x53c6e0;return path[_0x38a66d(0x1cd)](__dirname,'resources',_0x38a66d(0x1ce),_0x38a66d(0x1c5));}[_0x53c6e0(0x1ab)](){const _0x387242=_0x53c6e0,_0x13e0ba=global[_0x387242(0x1fe)][_0x387242(0x1f3)]||null,_0x2f6a95=global[_0x387242(0x1fe)][_0x387242(0x1ba)]||(_0x13e0ba?_0x387242(0x1d4):null),_0x483148=path[_0x387242(0x207)](global[_0x387242(0x1ec)][_0x387242(0x1a6)],_0x387242(0x1d0)),_0x5b9113=_0x2f6a95===_0x387242(0x1d4)?_0x13e0ba:null,_0x3caf36=fs['existsSync'](_0x483148)?fs['readFileSync'](_0x483148)[_0x387242(0x1fc)]()[_0x387242(0x20d)]('\x0a')[0x0]:_0x5b9113;this[_0x387242(0x1a1)]={'engine':_0x2f6a95,'engineVersion':_0x13e0ba,'pipelineVersion':_0x3caf36};}async['getInjectionChunks'](){throw new Error('Abstract\x20platform\x20is\x20not\x20aware\x20of\x20injection\x20chunks!');}async[_0x53c6e0(0x1e4)](){const _0x5d00df=_0x53c6e0,_0x449827=this[_0x5d00df(0x1a8)]['constructor'],_0x5621ef=path['join'](_0x449827[_0x5d00df(0x1a4)],_0x5d00df(0x206));await fs[_0x5d00df(0x1d6)](_0x5621ef,JSON[_0x5d00df(0x1db)](this['meta']));}async[_0x53c6e0(0x1f5)](){const _0x3f6f75=_0x53c6e0;this[_0x3f6f75(0x210)]=this['package']||{},this[_0x3f6f75(0x1e1)]=await this[_0x3f6f75(0x1a8)]['combineScripts'](null,this[_0x3f6f75(0x210)][_0x3f6f75(0x1fa)],this[_0x3f6f75(0x1fd)],this[_0x3f6f75(0x1e0)],this[_0x3f6f75(0x1b7)]),this['blobs']=await this['api'][_0x3f6f75(0x1ed)](this[_0x3f6f75(0x210)][_0x3f6f75(0x1ad)],this[_0x3f6f75(0x1e0)],this[_0x3f6f75(0x1b7)]),this[_0x3f6f75(0x1b2)]=await this[_0x3f6f75(0x1a8)][_0x3f6f75(0x1a5)](this[_0x3f6f75(0x210)][_0x3f6f75(0x202)],this['compress'],this[_0x3f6f75(0x1b7)]),this[_0x3f6f75(0x1b9)]=await this[_0x3f6f75(0x1a8)][_0x3f6f75(0x1e3)](this[_0x3f6f75(0x210)][_0x3f6f75(0x1c0)],this['compress'],this['useBase122']),this[_0x3f6f75(0x1c6)]=await this[_0x3f6f75(0x1a8)]['getImages'](this[_0x3f6f75(0x210)][_0x3f6f75(0x1af)],this[_0x3f6f75(0x1b7)]),this[_0x3f6f75(0x1cc)]=await this[_0x3f6f75(0x1a8)][_0x3f6f75(0x1c2)](this[_0x3f6f75(0x210)][_0x3f6f75(0x20f)],this[_0x3f6f75(0x1b7)]),await this['api']['storeHTML'](await this['buildTemplate']());if(!process['env']['STATS'])return;await this[_0x3f6f75(0x1a8)][_0x3f6f75(0x1b8)](this);}async[_0x53c6e0(0x20b)](_0x3a0d9c=_0x53c6e0(0x1dd),_0x587e2e=_0x53c6e0(0x1bf),_0x5974a6=![],_0x4f6172=''){const _0x431664=_0x53c6e0,_0x9bbd63=this[_0x431664(0x1a8)][_0x431664(0x1ca)],_0x5b8ca3=path['join'](_0x9bbd63[_0x431664(0x1f4)],'source.html'),_0x497d18=path['join'](_0x9bbd63[_0x431664(0x1a4)],_0x3a0d9c),_0x263d24=await fs['readFile'](_0x5b8ca3),_0x4c659c=await this[_0x431664(0x1bd)](),_0x2bfd86=await this[_0x431664(0x1aa)](),[_0x4183d5,_0x4586b6]=[renderChunks(_0x4c659c[_0x431664(0x1e9)],_0x2bfd86),renderChunks(_0x4c659c['post'],_0x2bfd86)];let _0x4758c5=_0x263d24[_0x431664(0x1fc)]();if(_0x4758c5[_0x431664(0x1a9)](HEAD_OPENING_TAG_STRING)<0x0){const _0x358005=_0x4758c5[_0x431664(0x203)](HTML_TAG_REGEX);if(_0x358005){const _0x278e6a=_0x358005[_0x431664(0x200)]+_0x358005[0x0][_0x431664(0x1c8)];_0x4758c5=_0x4758c5[_0x431664(0x1b5)](0x0,_0x278e6a)+HEAD_OPENING_TAG_STRING+HEAD_CLOSING_TAG_STRING+_0x4758c5[_0x431664(0x1b5)](_0x278e6a);}else _0x4758c5=HEAD_OPENING_TAG_STRING+HEAD_CLOSING_TAG_STRING+_0x4758c5;}let _0x4c8120=_0x4758c5;const _0x353b3f=_0x4c8120[_0x431664(0x1a9)](HEAD_OPENING_TAG_STRING)+HEAD_OPENING_TAG_STRING[_0x431664(0x1c8)];_0x4c8120=_0x4c8120[_0x431664(0x1b5)](0x0,_0x353b3f)+_0x4183d5+_0x4c8120[_0x431664(0x1b5)](_0x353b3f);const _0x4861b7=_0x4c8120[_0x431664(0x1a9)](_0x4c8120[_0x431664(0x203)](BODY_CLOSING_TAG_REGEX)[0x0]);_0x4c8120=_0x4c8120[_0x431664(0x1b5)](0x0,_0x4861b7)+_0x4586b6+_0x4c8120['slice'](_0x4861b7);const _0x17274b=path['join'](_0x9bbd63['sourceFolder'],_0x431664(0x1bf));if(await fs[_0x431664(0x1cf)](_0x17274b)){const _0x38cd9d=await fs[_0x431664(0x20a)](_0x17274b);for(const _0x14f9c3 of _0x38cd9d){const _0x56746d=path[_0x431664(0x207)](_0x17274b,_0x14f9c3),_0x197625=path[_0x431664(0x207)](_0x9bbd63['targetFolder'],_0x587e2e,_0x14f9c3),_0x1a7b43=this[_0x431664(0x1a8)]['getMimeType'](_0x56746d),_0xbd65dd=_0x1a7b43&&this[_0x431664(0x210)]&&(_0x1a7b43[_0x431664(0x1f1)](_0x431664(0x1c1))&&this[_0x431664(0x210)][_0x431664(0x1af)]||_0x1a7b43[_0x431664(0x1f1)](_0x431664(0x1ee))&&this[_0x431664(0x210)]['inlineVideos']||_0x1a7b43['startsWith'](_0x431664(0x1eb))&&this[_0x431664(0x210)]['inlineImages']);if(_0xbd65dd){const _0x597eb3=_0x431664(0x1f6)+_0x1a7b43+';base64,'+fs['readFileSync'](_0x56746d)[_0x431664(0x1fc)](_0x431664(0x1ea));_0x4c8120=_0x4c8120[_0x431664(0x1c7)](_0x431664(0x1e7)+_0x14f9c3+'\x22','\x20src=\x22'+_0x597eb3+'\x22');}else!await fs[_0x431664(0x1cf)](_0x197625)&&await fs[_0x431664(0x1d2)](_0x56746d,_0x197625);}process['env'][_0x431664(0x1b6)]&&(_0x4c8120=_0x4c8120['replace'](ASSETS_BASED_SRC_ATTRIBUTE,_0x431664(0x1d7)+process[_0x431664(0x1a2)][_0x431664(0x1b6)]+_0x431664(0x1ff)));}_0x4c8120=_0x4c8120['replace'](ASSETS_BASED_SRC_ATTRIBUTE,_0x431664(0x1d7)+_0x587e2e+'/'),_0x5974a6&&(_0x4c8120=await this[_0x431664(0x1da)](_0x587e2e,_0x4c8120,process['env'][_0x431664(0x1b6)]||_0x4f6172)),await fs['writeFile'](_0x497d18,_0x4c8120);}async[_0x53c6e0(0x1da)](_0x10ad24,_0x4b1e1a,_0x8f82d1=''){const _0x2d63ec=_0x53c6e0,_0x227c4c=this['api']['constructor'],_0x683892=path[_0x2d63ec(0x207)](_0x227c4c[_0x2d63ec(0x1a4)],_0x10ad24);!await fs[_0x2d63ec(0x1cf)](_0x683892)&&await fs[_0x2d63ec(0x1b3)](_0x683892);const _0xb11922=this['api']['escapeHTMLForTrampoline'](_0x4b1e1a);await fs[_0x2d63ec(0x1d6)](path[_0x2d63ec(0x207)](_0x683892,TRAMPOLINE_FILE_NAME),_0xb11922);const _0x5d83db=await this[_0x2d63ec(0x1aa)](),_0x16ccd9=global[_0x2d63ec(0x1bb)](_0x8f82d1,_0x10ad24)+'/';return this[_0x2d63ec(0x1a8)][_0x2d63ec(0x1e2)](this[_0x2d63ec(0x1ac)],{..._0x5d83db,'trampoline':{'path':global[_0x2d63ec(0x1bb)](_0x10ad24,TRAMPOLINE_FILE_NAME),'src':global['urljoin'](_0x16ccd9,TRAMPOLINE_FILE_NAME)},'assetsUrl':_0x16ccd9});}async[_0x53c6e0(0x1ef)](_0x25e685){const _0x47ee43=_0x53c6e0,_0x42f5e1=_0x25e685||await this[_0x47ee43(0x1aa)]();return this[_0x47ee43(0x1a8)][_0x47ee43(0x1e2)](this[_0x47ee43(0x1f2)],_0x42f5e1);}async['generatePackageConfig'](){const _0x5b96c8=_0x53c6e0;return this['api'][_0x5b96c8(0x1aa)](this);}async[_0x53c6e0(0x1d1)](_0x51847f){const _0x4ca7d9=_0x53c6e0,_0x2a4258=[{'src':path[_0x4ca7d9(0x1cd)](__dirname,'resources','js',_0x4ca7d9(0x1d3))},{'src':path['resolve'](__dirname,_0x4ca7d9(0x1c3),'js',_0x4ca7d9(0x1e8))}];return this[_0x4ca7d9(0x1a8)]['combineScripts'](_0x2a4258,![],MinificationMode[_0x4ca7d9(0x1d5)],![],this[_0x4ca7d9(0x1b7)],_0x51847f,_0x4ca7d9(0x1e6));}};